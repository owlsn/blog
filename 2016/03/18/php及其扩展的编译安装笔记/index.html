<!DOCTYPE html>
<html lang=en>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="renderer" content="webkit">
  <meta http-equiv="Cache-Control" content="no-transform" />
  <meta http-equiv="Cache-Control" content="no-siteapp" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="format-detection" content="telephone=no,email=no,adress=no">
  <!-- Color theme for statusbar -->
  <meta name="theme-color" content="#000000" />
  <!-- 强制页面在当前窗口以独立页面显示,防止别人在框架里调用页面 -->
  <meta http-equiv="window-target" content="_top" />
  
  
  <title>php及其扩展的编译安装笔记 | Hexo</title>
  <meta name="description" content="写在前面　　这篇文章里面记录了我在自己独立安装开发环境的时候遇到的很多问题,并且还记录了很多其他的与之或多或少有关联的知识。 安装环境和安装软件　　我曾经来在虚拟机上安装过这些软件,在虚拟机上是在centos 6.7版本,而后我自己装的双系统上是centos 7,我觉得在实体机上操作一遍还是非常有必要的。　　这里我先把自己安装的这些软件的下载地址列出来：　　memcached-1.4.25　　ph">
<meta property="og:type" content="article">
<meta property="og:title" content="php及其扩展的编译安装笔记">
<meta property="og:url" content="https://owlsn.github.io/blog/2016/03/18/php%E5%8F%8A%E5%85%B6%E6%89%A9%E5%B1%95%E7%9A%84%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85%E7%AC%94%E8%AE%B0/index.html">
<meta property="og:site_name" content="owlsn&#39;s blog">
<meta property="og:description" content="写在前面　　这篇文章里面记录了我在自己独立安装开发环境的时候遇到的很多问题,并且还记录了很多其他的与之或多或少有关联的知识。 安装环境和安装软件　　我曾经来在虚拟机上安装过这些软件,在虚拟机上是在centos 6.7版本,而后我自己装的双系统上是centos 7,我觉得在实体机上操作一遍还是非常有必要的。　　这里我先把自己安装的这些软件的下载地址列出来：　　memcached-1.4.25　　ph">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2016-03-18T14:04:16.000Z">
<meta property="article:modified_time" content="2022-05-17T13:26:29.346Z">
<meta property="article:author" content="owlsn">
<meta property="article:tag" content="php">
<meta property="article:tag" content="memcached">
<meta name="twitter:card" content="summary">
  <!-- Canonical links -->
  <link rel="canonical" href="https://owlsn.github.io/blog/2016/03/18/php%E5%8F%8A%E5%85%B6%E6%89%A9%E5%B1%95%E7%9A%84%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85%E7%AC%94%E8%AE%B0/index.html">
  
    <link rel="alternate" href="/atom.xml" title="owlsn&#39;s blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png" type="image/x-icon">
  
  
<link rel="stylesheet" href="/blog/css/style.css">

  
  
  
  
<meta name="generator" content="Hexo 5.4.2"></head>


<body class="main-center" itemscope itemtype="http://schema.org/WebPage">
  <header class="header" itemscope itemtype="http://schema.org/WPHeader">
  <div class="slimContent">
    <div class="navbar-header">
      
      
      <div class="profile-block text-center">
        <a id="avatar" href="https://github.com/owlsn" target="_blank">
          <img class="img-circle img-rotate" src="/blog/images/avatar.png" width="200" height="200">
        </a>
        <h2 id="name" class="hidden-xs hidden-sm">owlsn</h2>
        <h3 id="title" class="hidden-xs hidden-sm hidden-md">Web Developer &amp; Designer</h3>
        <small id="location" class="text-muted hidden-xs hidden-sm"><i class="icon icon-map-marker"></i> Beijing, China</small>
      </div>
      
      <div class="search" id="search-form-wrap">

    <form class="search-form sidebar-form">
        <div class="input-group">
            <input type="text" class="search-form-input form-control" placeholder="Search" />
            <span class="input-group-btn">
                <button type="submit" class="search-form-submit btn btn-flat" onclick="return false;"><i class="icon icon-search"></i></button>
            </span>
        </div>
    </form>
    <div class="ins-search">
  <div class="ins-search-mask"></div>
  <div class="ins-search-container">
    <div class="ins-input-wrapper">
      <input type="text" class="ins-search-input" placeholder="Type something..." x-webkit-speech />
      <button type="button" class="close ins-close ins-selectable" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
    </div>
    <div class="ins-section-wrapper">
      <div class="ins-section-container"></div>
    </div>
  </div>
</div>


</div>
      <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
    </div>
    <nav id="main-navbar" class="collapse navbar-collapse" itemscope itemtype="http://schema.org/SiteNavigationElement" role="navigation">
      <ul class="nav navbar-nav main-nav ">
        
        
        <li class="menu-item menu-item-home">
          <a href="/blog/.">
            
            <i class="icon icon-home-fill"></i>
            
            <span class="menu-title">Home</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-archives">
          <a href="/blog/archives">
            
            <i class="icon icon-archives-fill"></i>
            
            <span class="menu-title">Archives</span>
          </a>
        </li>
        
      </ul>
      
	
    <ul class="social-links">
    	
        <li><a href="https://github.com/owlsn" target="_blank" title="Github" data-toggle=tooltip data-placement=top><i class="icon icon-github"></i></a></li>
        
        <li><a href="/blog/atom.xml" target="_blank" title="Rss" data-toggle=tooltip data-placement=top><i class="icon icon-rss"></i></a></li>
        
    </ul>

    </nav>
  </div>
</header>

  
    <aside class="sidebar" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    
      <div class="widget">
    <h3 class="widget-title">Board</h3>
    <div class="widget-body">
        <div id="board">
            <div class="content">
                <p>欢迎交流与分享经验!</p>
            </div>
        </div>
    </div>
</div>

    
      
  <div class="widget">
    <h3 class="widget-title">Categories</h3>
    <div class="widget-body">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/blog/categories/%E4%B8%AA%E4%BA%BA%E5%BC%80%E5%8F%91/">个人开发</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/%E4%B8%AA%E4%BA%BA%E5%BF%83%E5%BE%97/">个人心得</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/%E5%85%B4%E8%B6%A3%E7%88%B1%E5%A5%BD/">兴趣爱好</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</a><span class="category-list-count">37</span></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/%E5%BF%83%E5%BE%97%E5%88%86%E4%BA%AB/">心得分享</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE/">思维导图</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/%E6%80%BB%E7%BB%93%E8%A7%84%E5%88%92/">总结规划</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F/">推荐系统</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/%E6%96%87%E7%AB%A0%E8%BD%AC%E8%BD%BD/">文章转载</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/">环境搭建</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/%E8%AE%BE%E8%AE%A1/">设计</a><span class="category-list-count">1</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">Tags</h3>
    <div class="widget-body">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/IPFS/" rel="tag">IPFS</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/c/" rel="tag">c</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/cgi/" rel="tag">cgi</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/cookie/" rel="tag">cookie</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/cpp/" rel="tag">cpp</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/elasticsearch/" rel="tag">elasticsearch</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/github/" rel="tag">github</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/go/" rel="tag">go</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/hexo/" rel="tag">hexo</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/html/" rel="tag">html</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/http/" rel="tag">http</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/java/" rel="tag">java</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/javascript/" rel="tag">javascript</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/js/" rel="tag">js</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/linux/" rel="tag">linux</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/memcached/" rel="tag">memcached</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/mongo/" rel="tag">mongo</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/mongodb/" rel="tag">mongodb</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/mysql/" rel="tag">mysql</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/nginx/" rel="tag">nginx</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/photoshop/" rel="tag">photoshop</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/php/" rel="tag">php</a><span class="tag-list-count">13</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/python/" rel="tag">python</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/redis/" rel="tag">redis</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/session/" rel="tag">session</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/shell/" rel="tag">shell</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/sketch/" rel="tag">sketch</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/sql/" rel="tag">sql</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/web%E5%89%8D%E7%AB%AF/" rel="tag">web前端</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/%E4%B8%AA%E4%BA%BA%E5%BC%80%E5%8F%91/" rel="tag">个人开发</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/%E4%B8%AA%E4%BA%BA%E6%80%BB%E7%BB%93/" rel="tag">个人总结</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/%E4%BA%A7%E5%93%81/" rel="tag">产品</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/%E5%A4%9A%E8%BF%9B%E7%A8%8B/" rel="tag">多进程</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" rel="tag">学习笔记</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F/" rel="tag">推荐系统</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/" rel="tag">机器学习</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/%E8%A7%84%E5%88%92/" rel="tag">规划</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" rel="tag">设计模式</a><span class="tag-list-count">2</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget-body tagcloud">
      <a href="/blog/tags/IPFS/" style="font-size: 13px;">IPFS</a> <a href="/blog/tags/c/" style="font-size: 13px;">c</a> <a href="/blog/tags/cgi/" style="font-size: 13px;">cgi</a> <a href="/blog/tags/cookie/" style="font-size: 13px;">cookie</a> <a href="/blog/tags/cpp/" style="font-size: 13.6px;">cpp</a> <a href="/blog/tags/elasticsearch/" style="font-size: 13px;">elasticsearch</a> <a href="/blog/tags/github/" style="font-size: 13px;">github</a> <a href="/blog/tags/go/" style="font-size: 13px;">go</a> <a href="/blog/tags/hexo/" style="font-size: 13px;">hexo</a> <a href="/blog/tags/html/" style="font-size: 13px;">html</a> <a href="/blog/tags/http/" style="font-size: 13.4px;">http</a> <a href="/blog/tags/java/" style="font-size: 13px;">java</a> <a href="/blog/tags/javascript/" style="font-size: 13px;">javascript</a> <a href="/blog/tags/js/" style="font-size: 13.2px;">js</a> <a href="/blog/tags/linux/" style="font-size: 13px;">linux</a> <a href="/blog/tags/memcached/" style="font-size: 13.2px;">memcached</a> <a href="/blog/tags/mongo/" style="font-size: 13.2px;">mongo</a> <a href="/blog/tags/mongodb/" style="font-size: 13px;">mongodb</a> <a href="/blog/tags/mysql/" style="font-size: 13.2px;">mysql</a> <a href="/blog/tags/nginx/" style="font-size: 13px;">nginx</a> <a href="/blog/tags/photoshop/" style="font-size: 13px;">photoshop</a> <a href="/blog/tags/php/" style="font-size: 14px;">php</a> <a href="/blog/tags/python/" style="font-size: 13.2px;">python</a> <a href="/blog/tags/redis/" style="font-size: 13.2px;">redis</a> <a href="/blog/tags/session/" style="font-size: 13.2px;">session</a> <a href="/blog/tags/shell/" style="font-size: 13px;">shell</a> <a href="/blog/tags/sketch/" style="font-size: 13px;">sketch</a> <a href="/blog/tags/sql/" style="font-size: 13px;">sql</a> <a href="/blog/tags/web%E5%89%8D%E7%AB%AF/" style="font-size: 13px;">web前端</a> <a href="/blog/tags/%E4%B8%AA%E4%BA%BA%E5%BC%80%E5%8F%91/" style="font-size: 13px;">个人开发</a> <a href="/blog/tags/%E4%B8%AA%E4%BA%BA%E6%80%BB%E7%BB%93/" style="font-size: 13.2px;">个人总结</a> <a href="/blog/tags/%E4%BA%A7%E5%93%81/" style="font-size: 13px;">产品</a> <a href="/blog/tags/%E5%A4%9A%E8%BF%9B%E7%A8%8B/" style="font-size: 13px;">多进程</a> <a href="/blog/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" style="font-size: 13px;">学习笔记</a> <a href="/blog/tags/%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F/" style="font-size: 13.2px;">推荐系统</a> <a href="/blog/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/" style="font-size: 13.8px;">机器学习</a> <a href="/blog/tags/%E8%A7%84%E5%88%92/" style="font-size: 13px;">规划</a> <a href="/blog/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" style="font-size: 13.2px;">设计模式</a>
    </div>
  </div>

    
      
  <div class="widget">
    <h3 class="widget-title">Archive</h3>
    <div class="widget-body">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2020/04/">April 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2020/01/">January 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2019/12/">December 2019</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2019/11/">November 2019</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2019/10/">October 2019</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2019/09/">September 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2019/06/">June 2019</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2018/11/">November 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2018/10/">October 2018</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2017/05/">May 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2017/04/">April 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2017/03/">March 2017</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2017/02/">February 2017</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2016/12/">December 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2016/04/">April 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2016/03/">March 2016</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2016/02/">February 2016</a><span class="archive-list-count">4</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget-body">
      <ul class="recent-post-list list-unstyled no-thumbnail">
        
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/blog/categories/%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F/">推荐系统</a>
              </p>
              <p class="item-title">
                <a href="/blog/2020/04/10/%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F%E7%B3%BB%E5%88%97-1/" class="title">推荐系统系列(1)</a>
              </p>
              <p class="item-date">
                <time datetime="2020-04-10T08:07:04.000Z" itemprop="datePublished">2020-04-10</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/blog/categories/%E8%AE%BE%E8%AE%A1/">设计</a>
              </p>
              <p class="item-title">
                <a href="/blog/2020/01/01/sketch%E5%B8%83%E5%B0%94%E8%BF%90%E7%AE%97%E5%92%8C%E8%B7%AF%E5%BE%84%E5%89%AA%E5%88%87/" class="title">sketch布尔运算和路径剪切</a>
              </p>
              <p class="item-date">
                <time datetime="2020-01-01T07:45:10.000Z" itemprop="datePublished">2020-01-01</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/blog/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</a>
              </p>
              <p class="item-title">
                <a href="/blog/2019/12/07/protobuf%E5%AE%9E%E8%B7%B5/" class="title">protobuf实践</a>
              </p>
              <p class="item-date">
                <time datetime="2019-12-07T08:21:30.000Z" itemprop="datePublished">2019-12-07</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/blog/categories/%E5%BF%83%E5%BE%97%E5%88%86%E4%BA%AB/">心得分享</a>
              </p>
              <p class="item-title">
                <a href="/blog/2019/12/03/%E6%8E%A8%E8%8D%90%E6%8A%80%E6%9C%AF%E5%88%86%E4%BA%AB/" class="title">推荐技术分享</a>
              </p>
              <p class="item-date">
                <time datetime="2019-12-03T10:44:31.000Z" itemprop="datePublished">2019-12-03</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/blog/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</a>
              </p>
              <p class="item-title">
                <a href="/blog/2019/11/30/bazel%E5%AE%9E%E8%B7%B5/" class="title">bazel实践</a>
              </p>
              <p class="item-date">
                <time datetime="2019-11-30T08:07:58.000Z" itemprop="datePublished">2019-11-30</time>
              </p>
            </div>
          </li>
          
      </ul>
    </div>
  </div>
  

    
  </div>
</aside>

  
  
<main class="main" role="main">
  <div class="content">
  <article id="post-php及其扩展的编译安装笔记" class="article article-type-post" itemscope itemtype="http://schema.org/BlogPosting">
    
    <div class="article-header">
      
        
  
    <h1 class="article-title" itemprop="name">
      php及其扩展的编译安装笔记
    </h1>
  

      
      <div class="article-meta">
        <span class="article-date">
    <i class="icon icon-calendar-check"></i>
	<a href="/blog/2016/03/18/php%E5%8F%8A%E5%85%B6%E6%89%A9%E5%B1%95%E7%9A%84%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85%E7%AC%94%E8%AE%B0/" class="article-date">
	  <time datetime="2016-03-18T14:04:16.000Z" itemprop="datePublished">2016-03-18</time>
	</a>
</span>
        
  <span class="article-category">
    <i class="icon icon-folder"></i>
    <a class="article-category-link" href="/blog/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</a>
  </span>

        
  <span class="article-tag">
    <i class="icon icon-tags"></i>
	<a class="article-tag-link-link" href="/blog/tags/memcached/" rel="tag">memcached</a>, <a class="article-tag-link-link" href="/blog/tags/php/" rel="tag">php</a>
  </span>


        

        <span class="post-comment"><i class="icon icon-comment"></i> <a href="/blog/2016/03/18/php%E5%8F%8A%E5%85%B6%E6%89%A9%E5%B1%95%E7%9A%84%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85%E7%AC%94%E8%AE%B0/#comments" class="article-comment-link">Comments</a></span>
        
      </div>
    </div>
    <div class="article-entry marked-body" itemprop="articleBody">
      
        <h3 id="写在前面"><a href="#写在前面" class="headerlink" title="写在前面"></a>写在前面</h3><p>　　这篇文章里面记录了我在自己独立安装开发环境的时候遇到的很多问题,并且还记录了很多其他的与之或多或少有关联的知识。</p>
<h3 id="安装环境和安装软件"><a href="#安装环境和安装软件" class="headerlink" title="安装环境和安装软件"></a>安装环境和安装软件</h3><p>　　我曾经来在虚拟机上安装过这些软件,在虚拟机上是在centos 6.7版本,而后我自己装的双系统上是centos 7,我觉得在实体机上操作一遍还是非常有必要的。<br>　　这里我先把自己安装的这些软件的下载地址列出来：<br>　　<a target="_blank" rel="noopener" href="http://memcached.org/downloads">memcached-1.4.25</a><br>　　<a target="_blank" rel="noopener" href="http://php.net/get/php-5.6.19.tar.gz/from/a/mirror">php-5.6.19</a><br>　　<a target="_blank" rel="noopener" href="https://launchpad.net/libmemcached/+download">libmemcached-1.0.18</a><br>　　<a target="_blank" rel="noopener" href="https://pecl.php.net/package/memcached">php-memcached扩展 2.2.0</a><br>　　这些需要安装的软件我将它们统一放在/var/workspace/下面对应的文件夹里面</p>
<span id="more"></span>
<h3 id="php安装"><a href="#php安装" class="headerlink" title="php安装"></a>php安装</h3><p>　　安装之前首先看一看本机上面是不是已经装了其他版本的php,<br>　　<code>yum -qa|grep php</code><br>　　我的电脑上之前yum安装过5.4版本的php,所以要先把原来的卸载掉<br>　　<code>yum remove php</code><br>　　然后是获取php源码压缩包<br>　　<code>wget hk1.php.net/get/php-5.6.19.tar.gz/from/this/mirror</code><br>　　下载完之后就解压文件得到<code>php-5.6.19</code>的文件夹<br>　　然后<code>cd</code>进入<code>php-5.6.19</code>文件夹进行编译配置,配置之前我要先大概看看有哪些参数,这些参数一般用处是什么,网上很多资料在编译的时候后面都带了一大堆的参数,大部分都是在编译的时候就把扩展加载在里面了,甚至有很多都是默认的设置,根本不用加那些参数。但是实际上这些动态扩展可以之后再编译,然后再在php.ini添加就行了<br>    <br><br>　　<code>./configure --help|less</code><br>　　这里面主要有几个参数：<br>　　<code>--prefix=</code>安装路径,<br>　　<code>--with-config-file-path=</code>php.ini文件存放的路径,<br>　　<code>--enable-fpm</code>开启php-fpm<br>　　<code>--enable-mysqlnd</code>开启mysqlnd<br>    <br><br>　　安装路径和php.ini文件存放的路径我就不多说了,主要是下面两个,因为php-fpm和mysqlnd这两个都是已经整合进php源码里面了的,所以如果不重新编译php是不能以扩展的形式再加载到php里面的,但是这两个又是十分重要的。<br>　　nginx本身是不能处理php脚本的,它只是将请求交给了php-cgi去处理,而php-fpm是管理php-cgi的管理器。因为是搭配nginx服务器,所以php-fpm是必须要装的。<br>    <br><br>　　对于mysqlnd(MySQL Native Driver),php手册中有写到</p>
<blockquote>
MySQL Native Driver is a replacement for the MySQL Client Library (libmysqlclient). MySQL Native Driver is part of the official PHP sources as of PHP 5.3.0.
<br>
The MySQL database extensions MySQL extension, mysqli and PDO MYSQL all communicate with the MySQL server. In the past, this was done by the extension using the services provided by the MySQL Client Library. The extensions were compiled against the MySQL Client Library in order to use its client-server protocol.
<br>
With MySQL Native Driver there is now an alternative, as the MySQL database extensions can be compiled to use MySQL Native Driver instead of the MySQL Client Library.
</blockquote>
　　php5没有默认支持mysql了,如果要动态编译mysql或者mysqli扩展,都是要设置`/path/to/mysql_config`,这代表了要用来编译mysql客户端/连接mysql服务端的mysql_config程序位置,而php5.3之后引入了mysqlnd之后,就可以用mysqlnd选项代替mysql连接服务端的配置。  
　　而对于我现在编译的php5.6版本,如果不在编译的时候带参数`--enable-mysqlnd`直接支持mysqlnd,那么之后如果要编译mysql或者mysqli如果不显式设置mysql_config路径的话都是会出错的,因为5.4之后默认设置的就是mysqlnd,而编译文件中没有mysqlnd文件,所以就会报错。　　
    <br>
　　`./configure   
　　--prefix=/usr/local/php   
　　--with-enable-fpm   
　　--with-config-file-path=/usr/local/php/etc   
　　--with-enable-mysqlnd`  
　　然后就是配置和环境检查了,查看提示信息,缺少哪些依赖包,就到网上查找相关的资料,安装依赖包,最后等到没有错误之后就可以安装了。  
　　`make && make install`  
　　如果正常的话php就安装完成了,当然也有可能其中出现错误,对照错误信息去找解决办法解决就行了。安装完成了之后还没有完,因为设置的时候`/usr/local/php/etc`是php查找php.ini文件的地方,还要在php解压目录里复制一份php.ini-development文件过去。  
    <br>
　　php-fpm安装了之后还需要开启才能工作,在`/usr/local/php/sbin`文件夹下,有php-fpm命令,  
　　`/usr/local/php/sbin/php-fpm`  
　　启动php-fpm,另外的一些php-fpm的命令就可以自己查看帮助就行了。  
　　如果直接这样启动的话就可能出现`failed to open configuration file`,这个一看就知道是没有`php-fpm.conf`配置文件,到`/usr/local/php/etc/`目录下,从`php-fpm.conf.default`copy一份`php-fpm.conf`就行了。  
　　另外在php的解压目录中就有php-fpm的开机自启动脚本,复制一份到`/etc/init.d/`就可以了。    
### php扩展  
　　在解压出来的php文件夹中,就有一些扩展包文件,在ext文件夹下,如果在自己运行的程序中有需要某些扩展,一般都能在这里找到,我这里就以mysqli扩展为例。首先要cd进mysqli所在的目录  
　　`cd /var/workspace/php/php-5.6.19/ext/msyqli`  
　　php在安装完成之后会在安装目录的bin/文件夹下面生成一些命令,像phpize,php-config等,这些命令在编译扩展的时候就有用到。  
　　phpize在php官方文档中说是用来准备 PHP 扩展库的编译环境的,而php-config命令则是一个简单的命令行脚本用于获取所安装的 PHP 配置的信息。  
    <br>
　　执行phpize命令  
　　`/usr/local/php/bin/phpize`  
　　这里因为没有把命令加入到环境变量中,所以就只能直接输路径执行了。  
　　这里可能会缺少autoconf,直接yum安装就行了,或者想自己编译安装当然也可以了。
　　然后就会生成一些配置文件，其中就有./configure(有时候生成的是./config好像),然后就是编译安装之类的了,其中有一点配置的时候就是要注意加上  
　　`--with-php-config=`php-config命令的路径  
　　php-config命令的路径就是上面所说的路径,只有这样编译之后生成的so文件才会在正确的目录下面。一般就是在php安装目录下的`lib/php/extensions/...`什么的文件夹下面。然后在php.ini文件里加上`extension=`so文件的具体路径就行了。  
    <br>
　　然后如果本身ext文件夹下面没有扩展包的话就需要自己下载扩展,然后还是和上面一样的执行步骤。如果有遇到错误的话根据错误信息解决问题就行了。
### memcached
　　编译memcached也是类似的操作,下载之后解压文件`./configure --prefix=`配置一些安装路径或者其他的依赖包的路径,如果有缺少什么依赖包,在这一步都一般会有相应的提示信息的,只要逐个安装之后并把路径填写到对应的参数里面就行了。  
    <br>
　　这里首先安装的只是memcached的服务端,就是启动memcached服务的服务器,如果要在php中使用memcached的话就还要安装memcached的扩展。php-memcached的扩展又依赖于libmemcached,在开头我已经有把这些软件的下载地址列出来了,所以一个一个逐个安装就行了。最后记得还有修改php.ini文件。
　　
      
    </div>
    <div class="article-footer">
      <blockquote class="mt-2x">
  <ul class="post-copyright list-unstyled">
    
    <li class="post-copyright-link hidden-xs">
      <strong>本文链接：</strong>
      <a href="https://owlsn.github.io/blog/2016/03/18/php%E5%8F%8A%E5%85%B6%E6%89%A9%E5%B1%95%E7%9A%84%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85%E7%AC%94%E8%AE%B0/" title="php及其扩展的编译安装笔记" target="_blank" rel="external">https://owlsn.github.io/blog/2016/03/18/php及其扩展的编译安装笔记/</a>
    </li>
    
    <li class="post-copyright-license">
      <strong>版权声明： </strong> 本博客所有文章除特别声明外，均采用 <a href="http://creativecommons.org/licenses/by/4.0/deed.zh" target="_blank" rel="external">CC BY 4.0 CN协议</a> 许可协议。转载请注明出处！
    </li>
  </ul>
</blockquote>


<div class="panel panel-default panel-badger">
  <div class="panel-body">
    <figure class="media">
      <div class="media-left">
        <a href="https://github.com/owlsn" target="_blank" class="img-burn thumb-sm visible-lg">
          <img src="/blog/images/avatar.png" class="img-rounded w-full" alt="">
        </a>
      </div>
      <div class="media-body">
        <h3 class="media-heading"><a href="https://github.com/owlsn" target="_blank"><span class="text-dark">owlsn</span><small class="ml-1x">Web Developer &amp; Designer</small></a></h3>
        <div>个人简介。</div>
      </div>
    </figure>
  </div>
</div>


    </div>
  </article>
  
    
  <section id="comments">
  	
      <div id="vcomments"></div>
    
  </section>


  
</div>

  <nav class="bar bar-footer clearfix" data-stick-bottom>
  <div class="bar-inner">
  
  <ul class="pager pull-left">
    
    <li class="prev">
      <a href="/blog/2016/03/20/php%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="php工厂模式学习笔记"><i class="icon icon-angle-left" aria-hidden="true"></i><span>&nbsp;&nbsp;Newer</span></a>
    </li>
    
    
    <li class="next">
      <a href="/blog/2016/03/17/nginx%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AE%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="nginx编译安装与配置学习笔记"><span>Older&nbsp;&nbsp;</span><i class="icon icon-angle-right" aria-hidden="true"></i></a>
    </li>
    
    
  </ul>
  
  
  
  <div class="bar-right">
    
    <div class="share-component" data-sites="weibo,qq,wechat,facebook,twitter" data-mobile-sites="weibo,qq,qzone"></div>
    
  </div>
  </div>
</nav>
  


</main>

  <footer class="footer" itemscope itemtype="http://schema.org/WPFooter">
	
	
    <ul class="social-links">
    	
        <li><a href="https://github.com/owlsn" target="_blank" title="Github" data-toggle=tooltip data-placement=top><i class="icon icon-github"></i></a></li>
        
        <li><a href="/blog/atom.xml" target="_blank" title="Rss" data-toggle=tooltip data-placement=top><i class="icon icon-rss"></i></a></li>
        
    </ul>

    <div class="copyright">
    	
        <div class="publishby">
        	Theme by <a href="https://github.com/cofess" target="_blank"> cofess </a>base on <a href="https://github.com/cofess/hexo-theme-pure" target="_blank">pure</a>.
        </div>
    </div>
</footer>
  <script src="//cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script>
<script>
window.jQuery || document.write('<script src="js/jquery.min.js"><\/script>')
</script>

<script src="/blog/js/plugin.min.js"></script>


<script src="/blog/js/application.js"></script>


    <script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'Posts',
            PAGES: 'Pages',
            CATEGORIES: 'Categories',
            TAGS: 'Tags',
            UNTITLED: '(Untitled)',
        },
        ROOT_URL: '/blog/',
        CONTENT_URL: '/blog/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>

<script src="/blog/js/insight.js"></script>






   




   
    
  <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/valine"></script>
  <script type="text/javascript">
  var GUEST = ['nick', 'mail', 'link'];
  var meta = 'nick,mail,link';
  meta = meta.split(',').filter(function(item) {
    return GUEST.indexOf(item) > -1;
  });
  new Valine({
    el: '#vcomments',
    verify: false,
    notify: false,
    appId: '',
    appKey: '',
    placeholder: 'Just go go',
    avatar: 'mm',
    meta: meta,
    pageSize: '10' || 10,
    visitor: false
  });
  </script>

     







</body>
</html>